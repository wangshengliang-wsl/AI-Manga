@import 'tailwindcss';
@import './theme.css';

@custom-variant dark (&:is(.dark *));

@plugin 'tailwindcss-animate';

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground font-sans;
    background-image:
      radial-gradient(ellipse 80% 50% at 50% -20%, oklch(0.6 0.12 300 / 0.08), transparent),
      radial-gradient(ellipse 60% 40% at 100% 100%, oklch(0.7 0.10 340 / 0.05), transparent);
  }
  .dark body {
    background-image:
      radial-gradient(ellipse 80% 50% at 50% -20%, oklch(0.5 0.15 300 / 0.12), transparent),
      radial-gradient(ellipse 60% 40% at 100% 100%, oklch(0.4 0.12 340 / 0.08), transparent);
  }
}

.container {
  @apply mx-auto max-w-7xl px-4 md:px-8;
}

/* Noise texture overlay for cinematic feel */
.noise-overlay::before {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.015;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* Hide scrollbar for Chrome, Safari and Opera */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.scrollbar-hide {
  -ms-overflow-style: none; /* IE and Edge */
  scrollbar-width: none; /* Firefox */
}

input,
select,
textarea {
  @apply border-border outline-ring/50 bg-background;
}

button {
  @apply border-border outline-ring/50 cursor-pointer;
}

pre {
  @apply px-4;
}

.docs th,
.docs td {
  @apply border-border border p-3;
}

@theme inline {
  /* Grid animation */
  --animate-grid: grid 15s linear infinite;
  @keyframes grid {
    0% {
      transform: translateY(-50%);
    }
    100% {
      transform: translateY(0);
    }
  }

  /* Ripple animation */
  --animate-ripple: ripple var(--duration, 2s) ease calc(var(--i, 0) * 0.2s)
    infinite;
  @keyframes ripple {
    0%,
    100% {
      transform: translate(-50%, -50%) scale(1);
    }
    50% {
      transform: translate(-50%, -50%) scale(0.9);
    }
  }

  /* Drift animation - slow ambient background movement */
  --animate-drift: drift 18s ease-in-out infinite;
  @keyframes drift {
    0%, 100% {
      transform: translate3d(-4%, -2%, 0) scale(1);
    }
    50% {
      transform: translate3d(4%, 2%, 0) scale(1.03);
    }
  }

  /* Meteor animation */
  --animate-meteor: meteor 5s linear infinite;
  @keyframes meteor {
    0% {
      transform: rotate(var(--angle)) translateX(0);
      opacity: 1;
    }
    70% {
      opacity: 1;
    }
    100% {
      transform: rotate(var(--angle)) translateX(-500px);
      opacity: 0;
    }
  }

  /* Marquee animations */
  --animate-marquee: marquee var(--duration) infinite linear;
  --animate-marquee-vertical: marquee-vertical var(--duration) linear infinite;
  @keyframes marquee {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(calc(-100% - var(--gap)));
    }
  }
  @keyframes marquee-vertical {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(calc(-100% - var(--gap)));
    }
  }

  /* Floating animation - subtle breathing effect */
  --animate-float: float 6s ease-in-out infinite;
  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  /* Pulse glow animation */
  --animate-pulse-glow: pulse-glow 3s ease-in-out infinite;
  @keyframes pulse-glow {
    0%, 100% {
      opacity: 0.4;
      filter: blur(20px);
    }
    50% {
      opacity: 0.7;
      filter: blur(30px);
    }
  }

  /* Scale in animation */
  --animate-scale-in: scale-in 0.5s cubic-bezier(0.22, 1, 0.36, 1);
  @keyframes scale-in {
    0% {
      opacity: 0;
      transform: scale(0.9);
    }
    100% {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Slide up fade animation */
  --animate-slide-up-fade: slide-up-fade 0.6s cubic-bezier(0.22, 1, 0.36, 1);
  @keyframes slide-up-fade {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Shimmer animation for loading states */
  --animate-shimmer: shimmer 2s linear infinite;
  --animate-shimmer-slow: shimmer-slow 5s linear infinite;
  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
  @keyframes shimmer-slow {
    0% {
      background-position: 200% 0;
    }
    100% {
      background-position: -200% 0;
    }
  }

  /* Artistic wave underline animation - infinite loop */
  --animate-wave-loop: wave-loop 3s ease-in-out infinite;
  @keyframes wave-loop {
    0% {
      stroke-dashoffset: 400;
    }
    45% {
      stroke-dashoffset: 0;
    }
    55% {
      stroke-dashoffset: 0;
    }
    100% {
      stroke-dashoffset: -400;
    }
  }

  /* Zoom ken burns effect */
  --animate-ken-burns: ken-burns 20s ease-in-out infinite alternate;
  @keyframes ken-burns {
    0% {
      transform: scale(1) translate(0, 0);
    }
    100% {
      transform: scale(1.1) translate(-2%, -1%);
    }
  }
}

::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
